{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://uniweb.app/schemas/page.json",
  "title": "Uniweb Page Configuration",
  "description": "Schema for page.yml files in Uniweb projects",
  "type": "object",
  "additionalProperties": true,
  "properties": {
    "title": {
      "type": "string",
      "description": "Page title used in browser tab, navigation, and SEO"
    },
    "description": {
      "type": "string",
      "description": "Meta description for SEO and social sharing"
    },
    "label": {
      "type": "string",
      "description": "Short navigation label. Defaults to title if not specified"
    },
    "order": {
      "type": "number",
      "description": "Sort position among siblings. Lower numbers appear first. Decimals allowed (e.g., 1.5)"
    },
    "pages": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Child page ordering. Use '...' for rest-of-pages wildcard: [a, b, ...] = a first, b second, rest after. Without '...' = strict (unlisted hidden from nav). First item becomes the index page"
    },
    "index": {
      "type": "string",
      "description": "Index page folder name. Alternative to 'pages' array"
    },
    "hidden": {
      "type": "boolean",
      "default": false,
      "description": "Hide from all navigation (page still exists and is accessible)"
    },
    "hideInHeader": {
      "type": "boolean",
      "default": false,
      "description": "Hide from header navigation only"
    },
    "hideInFooter": {
      "type": "boolean",
      "default": false,
      "description": "Hide from footer navigation only"
    },
    "layout": {
      "type": "object",
      "description": "Layout area visibility overrides",
      "additionalProperties": false,
      "properties": {
        "header": {
          "type": "boolean",
          "default": true,
          "description": "Whether to render the header on this page"
        },
        "footer": {
          "type": "boolean",
          "default": true,
          "description": "Whether to render the footer on this page"
        },
        "leftPanel": {
          "type": "boolean",
          "default": true,
          "description": "Whether to render the left sidebar on this page"
        },
        "rightPanel": {
          "type": "boolean",
          "default": true,
          "description": "Whether to render the right sidebar on this page"
        }
      }
    },
    "sections": {
      "description": "Section ordering. Use '*' to auto-discover, or an array with optional '...' wildcard: [hero, ..., cta] = hero first, cta last, rest in middle. Without '...' = strict (only listed sections). Supports nesting for subsections",
      "oneOf": [
        {
          "type": "string",
          "enum": ["*"],
          "description": "Auto-discover sections from .md files, sort by numeric prefix"
        },
        {
          "type": "array",
          "description": "Section ordering with optional '...' wildcard and nesting for subsections. Section names resolve by stable name (ignoring numeric prefix)"
        }
      ]
    },
    "seo": {
      "type": "object",
      "description": "SEO configuration",
      "additionalProperties": false,
      "properties": {
        "noindex": {
          "type": "boolean",
          "default": false,
          "description": "Prevent search engines from indexing this page"
        },
        "image": {
          "type": "string",
          "description": "Open Graph image URL for social sharing"
        },
        "changefreq": {
          "type": "string",
          "enum": ["always", "hourly", "daily", "weekly", "monthly", "yearly", "never"],
          "description": "Sitemap change frequency hint"
        },
        "priority": {
          "type": "number",
          "minimum": 0,
          "maximum": 1,
          "description": "Sitemap priority (0.0 to 1.0)"
        }
      }
    }
  }
}
